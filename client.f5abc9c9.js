parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"../core/headless/transformable.ts":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(){this.position={x:0,y:0,z:0},this.rotation={x:0,y:0,z:0},this.scale={x:1,y:1,z:1}}return t.prototype.setPosition=function(t,o,i){this.position.x=t,this.position.y=o,this.position.z=i},t.prototype.setRotation=function(t,o,i){this.rotation.x=t,this.rotation.y=o,this.rotation.z=i},t.prototype.setScale=function(t,o,i){this.scale.x=t,this.scale.y=o,this.scale.z=i},t.prototype.getPosition=function(){var t=this.position;return{x:t.x,y:t.y,z:t.z}},t.prototype.getRotation=function(){var t=this.rotation;return{x:t.x,y:t.y,z:t.z}},t.prototype.getScale=function(){var t=this.scale;return{x:t.x,y:t.y,z:t.z}},t}();exports.TransformableImpl=t;
},{}],"../core/headless/component.ts":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])})(r,o)};return function(r,o){function n(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var r,o=1,n=arguments.length;o<n;o++)for(var e in r=arguments[o])Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t}).apply(this,arguments)};exports.__esModule=!0;var o=require("./transformable"),n=function(o){function n(t,r,n,e){var p=o.call(this)||this;return p.uuid=t,p.moduleName=r,p.componentName=n,p.isSlyeComponent=!0,p.props=e,p}return t(n,o),n.prototype.getProp=function(t){return this.props[t]},n.prototype.patchProps=function(t){this.props=r({},this.props,t)},n}(o.TransformableImpl);exports.HeadlessComponent=n;
},{"./transformable":"../core/headless/transformable.ts"}],"../core/headless/font.ts":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{l(r.next(t))}catch(e){i(e)}}function a(t){try{l(r.throw(t))}catch(e){i(e)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,a)}l((r=r.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};exports.__esModule=!0;var n=function(){function n(t,e){this.name=t,this.file=e,this.isSlyeFont=!0}return n.prototype.layout=function(n){return t(this,void 0,Promise,function(){return e(this,function(t){throw new Error("`layout` is not implemented for headless fonts")})})},n}();exports.HeadlessFont=n;
},{}],"../core/headless/presentation.ts":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t){this.uuid=t,this.isSlyePresentation=!0,this.steps=[]}return t.prototype.del=function(t){var e=this.steps.indexOf(t);e<0||(t.owner=void 0,this.steps.splice(e,1))},t.prototype.add=function(t){t.owner&&t.owner!==this&&t.owner.del(t),t.owner=this,this.steps.push(t)},t.prototype.getStepId=function(t){return this.steps.indexOf(t)},t}();exports.HeadlessPresentation=t;
},{}],"../core/headless/step.ts":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}();exports.__esModule=!0;var o=require("./transformable"),n=function(o){function n(t){var n=o.call(this)||this;return n.uuid=t,n.isSlyeStep=!0,n.components=[],n}return t(n,o),n.prototype.del=function(t){var o=this.components.indexOf(t);o<0||(t.owner=void 0,this.components.splice(o,1))},n.prototype.add=function(t){t.owner&&t.owner!==this&&t.owner.del(t),t.owner=this,this.components.push(t)},n}(o.TransformableImpl);exports.HeadlessStep=n;
},{"./transformable":"../core/headless/transformable.ts"}],"../core/headless/index.ts":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}exports.__esModule=!0,e(require("./component")),e(require("./font")),e(require("./presentation")),e(require("./step"));
},{"./component":"../core/headless/component.ts","./font":"../core/headless/font.ts","./presentation":"../core/headless/presentation.ts","./step":"../core/headless/step.ts"}],"../../core/server.ts":[function(require,module,exports) {
"use strict";var e;function t(t){e=t}function s(t){return e.requestModule(t)}function r(t,s){return e.fetchModuleAsset(t,s)}function o(t,s){return e.fetchAsset(t,s)}function u(t){return e.showFileDialog(t)}function n(t,s){return e.getAssetURL(t,s)}exports.__esModule=!0,exports.setServer=t,exports.requestModule=s,exports.fetchModuleAsset=r,exports.fetchAsset=o,exports.showFileDialog=u,exports.getAssetURL=n;
},{}],"../../core/file.ts":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function u(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,u)}c((r=r.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};exports.__esModule=!0;var n=require("./server"),r=function(){function r(t,e,n){this.owner=t,this.uuid=e,this.isModuleAsset=n,this.isSlyeFile=!0}return r.prototype.load=function(){return t(this,void 0,Promise,function(){var t;return e(this,function(e){switch(e.label){case 0:return this.cache?[2,this.cache]:[4,(this.isModuleAsset?n.fetchModuleAsset:n.fetchAsset)(this.owner,this.uuid)];case 1:return t=e.sent(),this.cache=t,[2,t]}})})},r.prototype.url=function(){return t(this,void 0,Promise,function(){var t,n,r;return e(this,function(e){switch(e.label){case 0:return this.blobURL?[2,this.blobURL]:[4,this.load()];case 1:return t=e.sent(),n=new Blob([t]),r=URL.createObjectURL(n),this.blobURL=r,[2,r]}})})},r}();exports.File=r;
},{"./server":"../../core/server.ts"}],"../../core/sync/serializer/index.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__values||function(e){var r="function"==typeof Symbol&&e[Symbol.iterator],t=0;return r?r.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}};function r(r,t){var a,n,i=Object.keys(r.serializers);try{for(var l=e(i),o=l.next();!o.done;o=l.next()){var s=o.value,u=r.serializers[s];if(u.test(t))return{name:s,data:u.serialize.call(r,t)}}}catch(c){a={error:c}}finally{try{o&&!o.done&&(n=l.return)&&n.call(l)}finally{if(a)throw a.error}}throw new Error("Can not serialize data.")}function t(e,r){return e.serializers[r.name].unserialize.call(e,r.data)}exports.__esModule=!0,exports.serialize=r,exports.unserialize=t;
},{}],"../core/sync/serializer/headless.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function o(e){try{u(i.next(e))}catch(t){r(t)}}function a(e){try{u(i.throw(e))}catch(t){r(t)}}function u(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}u((i=i.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,i,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&r[0]?i.return:r[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,r[1])).done)return s;switch(i=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){o.label=r[1];break}if(6===r[0]&&o.label<s[1]){o.label=s[1],s=r;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(r);break}s[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(a){r=[6,a],i=0}finally{n=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};exports.__esModule=!0;var n=require("../../headless"),i=require("../../file"),s=require("./index");exports.unserializers={font:{unserialize:function(i){return e(this,void 0,void 0,function(){var e,r,o;return t(this,function(t){switch(t.label){case 0:return[4,s.unserialize(this,i.file)];case 1:return e=t.sent(),r=e.owner+"-"+i.name,this.fonts.has(r)?[2,this.fonts.get(r)]:(o=new n.HeadlessFont(i.name,e),this.fonts.set(r,o),[2,o])}})})}},step:{unserialize:function(i){return e(this,void 0,void 0,function(){var r,o,a,u,l,c,h,f=this;return t(this,function(p){switch(p.label){case 0:return r=i.uuid,o=i.data,this.steps.has(r)?[2,this.steps.get(r)]:(a=o.position,u=o.rotation,l=o.scale,(c=new n.HeadlessStep(r)).setPosition(a[0],a[1],a[2]),c.setRotation(u[0],u[1],u[2]),c.setScale(l[0],l[1],l[2]),h=o.components.map(function(n){return e(f,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return[4,s.unserialize(this,n)];case 1:return e=t.sent(),c.add(e),[2]}})})}),[4,Promise.all(h)]);case 1:return p.sent(),this.steps.set(r,c),[2,c]}})})}},component:{unserialize:function(i){return e(this,void 0,void 0,function(){var e,r,o,a,u,l,c,h,f;return t(this,function(t){switch(t.label){case 0:return e=i.uuid,r=i.data,this.components.has(e)?[2,this.components.get(e)]:(o=r.position,a=r.rotation,u=r.scale,l=r.moduleName,c=r.componentName,[4,s.unserialize(this,r.props)]);case 1:return h=t.sent(),(f=new n.HeadlessComponent(e,l,c,h)).setPosition(o[0],o[1],o[2]),f.setRotation(a[0],a[1],a[2]),f.setScale(u[0],u[1],u[2]),this.components.set(e,f),[2,f]}})})}},file:{unserialize:function(n){return e(this,void 0,void 0,function(){var e,s,r,o,a,u;return t(this,function(t){return e=n.uuid,s=n.moduleName,o=(r=!!s)?s:this.presentationUUID,a=(r?o:"")+"-"+e,this.files.has(a)?[2,this.files.get(a)]:(u=new i.File(o,e,r),this.files.set(a,u),[2,u])})})}}};
},{"../../headless":"../core/headless/index.ts","../../file":"../../core/file.ts","./index":"../../core/sync/serializer/index.ts"}],"../../core/sync/serializer/serializers.ts":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=this&&this.__assign||function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{a(r.next(t))}catch(e){i(e)}}function u(t){try{a(r.throw(t))}catch(e){i(e)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,u)}a((r=r.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};exports.__esModule=!0;var o=require("./index");exports.serializers=function(i){return{primary:{test:function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||null==t},serialize:function(t){return t},unserialize:function(t){return n(this,void 0,void 0,function(){return r(this,function(e){return[2,t]})})}},font:e({test:function(e){return!(!e||"object"!==t(e)||!e.isSlyeFont)},serialize:function(t){var e=t.file.owner+"-"+t.name;return this.fonts.set(e,t),{name:t.name,file:o.serialize(this,t.file)}}},i.font),step:e({test:function(e){return!(!e||"object"!==t(e)||!e.isSlyeStep)},serialize:function(t){var e=this,n=t.uuid,r=!this.steps.has(n);this.steps.set(n,t);var i=t.getPosition(),s=t.getRotation(),u=t.getScale(),a=t.components;return{uuid:n,data:r?{position:[i.x,i.y,i.z],rotation:[s.x,s.y,s.z],scale:[u.x,u.y,u.z],components:a.map(function(t){return o.serialize(e,t)})}:void 0}}},i.step),component:e({test:function(e){return!(!e||"object"!==t(e)||!e.isSlyeComponent)},serialize:function(t){var e=t.uuid,n=!this.components.has(e);this.components.set(e,t);var r=t.getPosition(),i=t.getRotation(),s=t.getScale();return{uuid:e,data:n?{position:[r.x,r.y,r.z],rotation:[i.x,i.y,i.z],scale:[s.x,s.y,s.z],moduleName:t.moduleName,componentName:t.componentName,props:o.serialize(this,t.props)}:void 0}}},i.component),file:e({test:function(e){return!(!e||"object"!=t(e)||!e.isSlyeFile)},serialize:function(t){var e=t.uuid,n=t.isModuleAsset,r=t.owner,o=(n?r:"")+"-"+e,i=n?r:void 0;return this.files.set(o,t),{uuid:e,moduleName:i}}},i.file),object:{test:function(e){return e&&"object"===t(e)},serialize:function(t){var e={};for(var n in t)e[n]=o.serialize(this,t[n]);return e},unserialize:function(t){return n(this,void 0,void 0,function(){var e,n,i,s,u,a,l;return r(this,function(r){switch(r.label){case 0:for(i in e={},n=[],t)n.push(i);s=0,r.label=1;case 1:return s<n.length?(u=n[s],a=e,l=u,[4,o.unserialize(this,t[u])]):[3,4];case 2:a[l]=r.sent(),r.label=3;case 3:return s++,[3,1];case 4:return[2,e]}})})}}}};
},{"./index":"../../core/sync/serializer/index.ts"}],"../../core/sync/common.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};exports.__esModule=!0;var r=require("./serializer/serializers"),n=require("./serializer");function i(i){return function(){function o(){this.ctx={serializers:r.serializers(i),fonts:new Map,components:new Map,steps:new Map,files:new Map,presentationUUID:void 0}}return o.prototype.serialize=function(e,t,r){return JSON.stringify({forward:e,action:t,data:n.serialize(this.ctx,r)})},o.prototype.unserialize=function(r){return e(this,void 0,Promise,function(){var e,i;return t(this,function(t){switch(t.label){case 0:return e=JSON.parse(r),console.log(JSON.stringify(e,null,4)),[4,n.unserialize(this.ctx,e.data)];case 1:return i=t.sent(),[2,{forward:!!e.forward,action:e.action,data:i}]}})})},o}()}exports.createSerializer=i;
},{"./serializer/serializers":"../../core/sync/serializer/serializers.ts","./serializer":"../../core/sync/serializer/index.ts"}],"../core/sync/headlessSerializer.ts":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./serializer/headless"),r=require("./common");exports.HeadlessSerializer=r.createSerializer(e.unserializers);
},{"./serializer/headless":"../core/sync/serializer/headless.ts","./common":"../../core/sync/common.ts"}],"../core/sly/types.ts":[function(require,module,exports) {
"use strict";var e;exports.__esModule=!0,function(e){e[e.FILE=0]="FILE",e[e.FONT=1]="FONT"}(e=exports.RefKind||(exports.RefKind={}));
},{}],"../core/sly/encoder.ts":[function(require,module,exports) {
"use strict";function e(o){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}var o=this&&this.__values||function(e){var o="function"==typeof Symbol&&e[Symbol.iterator],t=0;return o?o.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}};exports.__esModule=!0;var t=require("./types");function n(e){var n,l,u,s,f={template:void 0,steps:{}};try{for(var a=o(e.steps),p=a.next();!p.done;p=a.next()){var y=p.value,c=y.getPosition(),d=c.x,m=c.y,v=c.z,x=y.getRotation(),b=x.x,S=x.y,h=x.z,g=y.getScale(),w={position:[d,m,v],rotation:[b,S,h],scale:[g.x,g.y,g.z],components:[]};try{for(var z=o(y.components),F=z.next();!F.done;F=z.next()){var I=F.value,N=I.getPosition(),R=N.x,_=N.y,E=N.z,M=I.getRotation(),j=M.x,k=M.y,A=M.z,K=I.getScale(),P=K.x,U=K.y,q=K.z,D={uuid:I.uuid,moduleName:I.moduleName,component:I.componentName,position:[R,_,E],rotation:[j,k,A],scale:[P,U,q],props:{}};for(var L in I.props){var O=I.props[L];if("string"==typeof O||"number"==typeof O)D.props[L]=O;else if(r(O))D.props[L]={kind:t.RefKind.FONT,font:O.name,fileUUID:O.file.uuid,moduleId:O.file.isModuleAsset?O.file.owner:void 0};else{if(!i(O))throw new Error("Encoder for "+O+" is not implemented yet.");D.props[L]={kind:t.RefKind.FILE,uuid:O.uuid,moduleId:O.isModuleAsset?O.owner:void 0}}}w.components.push(D)}}catch(T){u={error:T}}finally{try{F&&!F.done&&(s=z.return)&&s.call(z)}finally{if(u)throw u.error}}f.steps[y.uuid]=w}}catch(B){n={error:B}}finally{try{p&&!p.done&&(l=a.return)&&l.call(a)}finally{if(n)throw n.error}}return f}function r(o){return"object"===e(o)&&!!o.isSlyeFont}function i(o){return"object"===e(o)&&!!o.isSlyeFile}exports.encode=n;
},{"./types":"../core/sly/types.ts"}],"../core/actions.ts":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.actions={DELETE_STEP:{forward:function(r,e){var t=e.step,n=r.steps.indexOf(t);return n>=0&&r.del(t),{step:t,index:n}},backward:function(r,e){var t=e.index,n=e.step;t<0||r.add(n,t)}},DELETE_COMPONENT:{forward:function(r,e){var t=e.component,n=t.owner;return n.del(t),{step:n,component:t}},backward:function(r,e){var t=e.component;e.step.add(t)}},UPDATE_POSITION:{forward:function(r,e){var t=e.object,n=e.prevX,o=e.prevY,a=e.prevZ,p=e.x,c=e.y,v=e.z;return t.setPosition(p,c,v),{object:t,prevX:n,prevY:o,prevZ:a}},backward:function(r,e){var t=e.object,n=e.prevX,o=e.prevY,a=e.prevZ;t.setPosition(n,o,a)}},UPDATE_ROTATION:{forward:function(r,e){var t=e.object,n=e.prevX,o=e.prevY,a=e.prevZ,p=e.x,c=e.y,v=e.z;return t.setRotation(p,c,v),{object:t,prevX:n,prevY:o,prevZ:a}},backward:function(r,e){var t=e.object,n=e.prevX,o=e.prevY,a=e.prevZ;t.setRotation(n,o,a)}},UPDATE_SCALE:{forward:function(r,e){var t=e.object,n=e.prevX,o=e.prevY,a=e.prevZ,p=e.x,c=e.y,v=e.z;return t.setScale(p,c,v),{object:t,prevX:n,prevY:o,prevZ:a}},backward:function(r,e){var t=e.object,n=e.prevX,o=e.prevY,a=e.prevZ;t.setScale(n,o,a)}},UPDATE_PROPS:{forward:function(r,e){var t=e.component,n=e.patch,o={};for(var a in n){var p=t.getProp(a);p!==n[a]&&(o[a]=p)}return t.patchProps(n),{component:t,patch:o}},backward:function(r,e){var t=e.component,n=e.patch;t.patchProps(n)}},INSERT_COMPONENT:{forward:function(r,e){var t=e.step,n=e.component;return t.add(n),{component:n}},backward:function(r,e){var t=e.component;t.owner.del(t)}},INSERT_STEP:{forward:function(r,e){var t=e.step;return r.add(t),{step:t}},backward:function(r,e){var t=e.step;r.del(t)}}};
},{}],"../core/sync/sync.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{c(i.next(e))}catch(t){o(t)}}function a(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((i=i.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};exports.__esModule=!0;var n=require("../sly/encoder"),i=require("../actions"),r=function(){function r(e,t,n,i,r){if(void 0===r&&(r=!1),this.presentation=e,this.serializer=t,this.ch=n,this.slyDecoder=i,this.isServer=r,this.resolves=[],this.isServer||this.load(),this.onMessage=this.onMessage.bind(this),this.onChange=this.onChange.bind(this),this.ch.onMessage(this.onMessage),t.ctx.presentationUUID)throw new Error("Serializer is already in use");t.ctx.presentationUUID=e.uuid}return r.prototype.bind=function(e){if(e.listener!==this.onChange){if(e.listener)throw new Error("ActionStack is already binded to another Sync.");e.listener=this.onChange}},r.prototype.open=function(n){return e(this,void 0,Promise,function(){var e=this;return t(this,function(t){switch(t.label){case 0:return[4,this.slyDecoder(this.presentation,n,{onComponent:function(t){e.serializer.ctx.components.set(t.uuid,t)},onStep:function(t){e.serializer.ctx.steps.set(t.uuid,t)}})];case 1:return t.sent(),this.resolves.map(function(e){return e()}),this.resolves=[],[2]}})})},r.prototype.waitForOpen=function(){var e=this;return new Promise(function(t){return e.resolves.push(t)})},r.prototype.send=function(e){this.ch.send(JSON.stringify(e))},r.prototype.onMessage=function(e){var t=JSON.parse(e);switch(t.command){case"sly":this.handleSly();break;case"sly_response":this.open(t.sly);break;case"action":this.handleAction(t.action)}},r.prototype.handleSly=function(){this.send({command:"sly_response",sly:n.encode(this.presentation)})},r.prototype.handleAction=function(n){return e(this,void 0,Promise,function(){var e;return t(this,function(t){switch(t.label){case 0:return[4,this.serializer.unserialize(n)];case 1:return e=t.sent(),(0,i.actions[e.action][e.forward?"forward":"backward"])(this.presentation,e.data),[2]}})})},r.prototype.load=function(){var e=this.presentation.uuid;this.send({command:"sly",pd:e})},r.prototype.onChange=function(e,t,n){var i=this.serializer.serialize(e,t,n);this.send({command:"action",action:i})},r}();exports.Sync=r;
},{"../sly/encoder":"../core/sly/encoder.ts","../actions":"../core/actions.ts"}],"../core/sly/headlessDecoder.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}},t=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,i=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return a},o=this&&this.__spread||function(){for(var e=[],o=0;o<arguments.length;o++)e=e.concat(t(arguments[o]));return e};exports.__esModule=!0;var n=require("../headless"),r=require("./types"),i=require("../file");function a(t,a,s){void 0===s&&(s={});var l=new Map,u=new Map;function f(e,o){var n=e+"-"+o;if(l.has(n))return l.get(n);var r=!!o,a=r?o:t.uuid,s=new i.File(a,e,r);return l.set(n,s),s}function d(t,r){var i,a;u.has(r)||u.set(r,[]);var s=u.get(r);try{for(var l=e(s),f=l.next();!f.done;f=l.next()){var d=f.value;if(d.name===t)return d}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}var c=new n.HeadlessFont(t,r);return u.set(r,o(s,[c])),c}for(var c in a.steps){var p=a.steps[c],v=new n.HeadlessStep(c);v.setPosition(p.position[0],p.position[1],p.position[2]),v.setRotation(p.rotation[0],p.rotation[1],p.rotation[2]),v.setScale(p.scale[0],p.scale[1],p.scale[2]);for(var h=0;h<p.components.length;++h){var y=p.components[h],m={};for(var S in y.props){var w=y.props[S];if("number"==typeof w||"string"==typeof w)m[S]=w;else if(w.kind===r.RefKind.FILE)m[S]=f(w.uuid,w.moduleId);else if(w.kind===r.RefKind.FONT){var _=f(w.fileUUID,w.moduleId);m[S]=d(w.font,_)}}var g=new n.HeadlessComponent(y.uuid,y.moduleName,y.component,m);g.setPosition(y.position[0],y.position[1],y.position[2]),g.setRotation(y.rotation[0],y.rotation[1],y.rotation[2]),g.setScale(y.scale[0],y.scale[1],y.scale[2]),v.add(g),s.onComponent&&s.onComponent(g)}t.add(v),s.onStep&&s.onStep(v)}}exports.headlessDecode=a;
},{"../headless":"../core/headless/index.ts","./types":"../core/sly/types.ts","../file":"../../core/file.ts"}],"../../node_modules/uuid/lib/rng-browser.js":[function(require,module,exports) {
var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var o=new Uint8Array(16);module.exports=function(){return e(o),o}}else{var r=new Array(16);module.exports=function(){for(var e,o=0;o<16;o++)0==(3&o)&&(e=4294967296*Math.random()),r[o]=e>>>((3&o)<<3)&255;return r}}
},{}],"../../node_modules/uuid/lib/bytesToUuid.js":[function(require,module,exports) {
for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);function t(o,t){var n=t||0,u=r;return[u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]]].join("")}module.exports=t;
},{}],"../../node_modules/uuid/v1.js":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"../../node_modules/uuid/lib/rng-browser.js","./lib/bytesToUuid":"../../node_modules/uuid/lib/bytesToUuid.js"}],"../node_modules/eventemitter3/index.js":[function(require,module,exports) {
"use strict";var e=Object.prototype.hasOwnProperty,t="~";function n(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,n,o,s,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,s||e,i),f=t?t+n:n;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(t=!1)),i.prototype.eventNames=function(){var n,r,o=[];if(0===this._eventsCount)return o;for(r in n=this._events)e.call(n,r)&&o.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(n)):o},i.prototype.listeners=function(e){var n=t?t+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,i=new Array(s);o<s;o++)i[o]=r[o].fn;return i},i.prototype.listenerCount=function(e){var n=t?t+e:e,r=this._events[n];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,n,r,o,s,i){var c=t?t+e:e;if(!this._events[c])return!1;var f,u,a=this._events[c],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,o),!0;case 5:return a.fn.call(a.context,n,r,o,s),!0;case 6:return a.fn.call(a.context,n,r,o,s,i),!0}for(u=1,f=new Array(l-1);u<l;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var v,h=a.length;for(u=0;u<h;u++)switch(a[u].once&&this.removeListener(e,a[u].fn,void 0,!0),l){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,n);break;case 3:a[u].fn.call(a[u].context,n,r);break;case 4:a[u].fn.call(a[u].context,n,r,o);break;default:if(!f)for(v=1,f=new Array(l-1);v<l;v++)f[v-1]=arguments[v];a[u].fn.apply(a[u].context,f)}}return!0},i.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},i.prototype.removeListener=function(e,n,r,o){var i=t?t+e:e;if(!this._events[i])return this;if(!n)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==n||o&&!c.once||r&&c.context!==r||s(this,i);else{for(var f=0,u=[],a=c.length;f<a;f++)(c[f].fn!==n||o&&!c[f].once||r&&c[f].context!==r)&&u.push(c[f]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},i.prototype.removeAllListeners=function(e){var r;return e?(r=t?t+e:e,this._events[r]&&s(this,r)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,"undefined"!=typeof module&&(module.exports=i);
},{}],"presentation.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};exports.__esModule=!0;var r=require("../core/sync/headlessSerializer"),s=require("../core/sync/sync"),n=require("../core/sly/headlessDecoder"),i=e(require("../core/headless")),o=t(require("uuid/v1")),u=t(require("eventemitter3"));exports.presentations=new Map,exports.ee=new u.default;var a=function(){function e(){this.assets=new Map,this.uuid=o.default(),this.meta={},exports.presentations.set(this.uuid,this)}return e.prototype.open=function(e){var t=this.uuid;this.presentation=new i.HeadlessPresentation(t),new s.Sync(this.presentation,new r.HeadlessSerializer,{onMessage:function(e){exports.ee.on("p"+t,function(t){e(t)})},send:function(e){setTimeout(function(){return exports.ee.emit("p"+t+"-x",e)})}},n.headlessDecode,!0).open(e)},e.prototype.patchMeta=function(e){Object.assign(this.meta,e)},e}();exports.Presentation=a;
},{"../core/sync/headlessSerializer":"../core/sync/headlessSerializer.ts","../core/sync/sync":"../core/sync/sync.ts","../core/sly/headlessDecoder":"../core/sly/headlessDecoder.ts","../core/headless":"../core/headless/index.ts","uuid/v1":"../../node_modules/uuid/v1.js","eventemitter3":"../node_modules/eventemitter3/index.js"}],"client.ts":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function u(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(u,s)}c((o=o.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,o,r,i,u={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,o=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(r=(r=u.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){u.label=i[1];break}if(6===i[0]&&u.label<r[1]){u.label=r[1],r=i;break}if(r&&u.label<r[2]){u.label=r[2],u.ops.push(i);break}r[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};exports.__esModule=!0;var o=require("./presentation"),r=n(require("uuid/v1")),i=function(){function n(){}return n.prototype.create=function(){return t(this,void 0,Promise,function(){var t,n,i;return e(this,function(e){return n={template:{moduleName:"slye",component:"template"},steps:(t={},t[r.default()]={position:[-110,0,0],rotation:[0,0,0],scale:[1,1,1],components:[{uuid:r.default(),moduleName:"slye",component:"text",position:[-15.20454158717898,.4664170368873606,17.052472519411943],rotation:[-.9999961802122638,0,0],scale:[1,1,.15397232016921775],props:{text:"Slye",size:20,color:15409268,font:{kind:1,font:"Shellia",fileUUID:"shellia.ttf",moduleId:"slye"}}}]},t)},(i=new o.Presentation).open(n),[2,{presentationDescriptor:i.uuid}]})})},n.prototype.close=function(n){return t(this,void 0,Promise,function(){return e(this,function(t){throw new Error("Not implemented.")})})},n.prototype.patchMeta=function(n,r){return t(this,void 0,Promise,function(){return e(this,function(t){return o.presentations.get(n).patchMeta(r),[2,{ok:!0}]})})},n.prototype.getMeta=function(n){return t(this,void 0,Promise,function(){return e(this,function(t){return[2,{meta:o.presentations.get(n).meta}]})})},n.prototype.fetchSly=function(n){return t(this,void 0,Promise,function(){return e(this,function(t){throw new Error("Not implemented.")})})},n.prototype.save=function(n){return t(this,void 0,Promise,function(){return e(this,function(t){throw new Error("Not implemented.")})})},n.prototype.open=function(){return t(this,void 0,Promise,function(){return e(this,function(t){throw new Error("Not implemented.")})})},n.prototype.showFileDialog=function(t){var e,n=new Promise(function(t){return e=t}),i=o.presentations.get(t),u=document.createElement("input");return u.type="file",u.onchange=function(){for(var t=u.files,n=[],o=0;o<t.length;++o){var s=r.default(),c=URL.createObjectURL(t[o]);i.assets.set(s,c),n.push(s)}e({files:n})},u.click(),n},n.prototype.getModuleMainURL=function(n){return t(this,void 0,Promise,function(){return e(this,function(t){if("slye"!==n)throw new Error("Non-default modules are not supported.");return[2,"./modules/"+n+"/main.js"]})})},n.prototype.getModuleAssetURL=function(n,o){return t(this,void 0,Promise,function(){return e(this,function(t){if("slye"!==n)throw new Error("Non-default modules are not supported.");return[2,"./modules/"+n+"/assets/"+o]})})},n.prototype.getAssetURL=function(n,r){return t(this,void 0,Promise,function(){var t;return e(this,function(e){return t=o.presentations.get(n),[2,t.assets.get(r)]})})},n.prototype.syncChannelOnMessage=function(t,e){o.ee.on("p"+t+"-x",function(t){e(t)})},n.prototype.syncChannelSend=function(t,e){o.ee.emit("p"+t,e)},n}();exports.Client=i,window.client=new i;
},{"./presentation":"presentation.ts","uuid/v1":"../../node_modules/uuid/v1.js"}]},{},["client.ts"], null)
//# sourceMappingURL=client.f5abc9c9.js.map